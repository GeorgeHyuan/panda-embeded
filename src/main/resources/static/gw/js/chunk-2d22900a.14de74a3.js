(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22900a"],{dc1f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dialog-container",{staticClass:"insert-detail",attrs:{showFooter:!1,title:t.title,width:"1200px",visible:t.visible,appendBody:!0,topHeight:"10vh"},on:{"update:visible":function(e){t.visible=e},closed:t.handleClosed}},[i("d2-crud",{ref:"d2Crud",attrs:{columns:t.columns,data:t.data,loading:t.loading,options:t.options,pagination:t.pagination},on:{"pagination-current-change":t.paginationCurrentChange}})],1)},n=[],o=i("ecc6"),r=i("6c51"),s={data:function(){var t=this;return{title:"",visible:!1,parData:{},columns:[{title:"序号",key:"",width:60,formatter:function(e,i,a,n){return(t.pagination.currentPage-1)*t.pagination.pageSize+(n+1)}},{title:"告警时间",key:"timestamp",showOverflowTooltip:!0},{title:"告警设备",key:"varName",showOverflowTooltip:!0},{title:"告警级别",key:"evtLevel",formatter:function(t,e,i,a){return 1===i?"一般":2===i?"严重":3===i?"危急":""},showOverflowTooltip:!0},{title:"事件类型",key:"evtClass",showOverflowTooltip:!0},{title:"事件状态",key:"evtStatus",formatter:function(t,e,i,a){return"0"===i?"未处理":"1"===i?"已处理":""},showOverflowTooltip:!0},{title:"告警描述",key:"evtDesc",formatter:function(t,e,i,a){return i||t.deviceName+":"+t.evtType},showOverflowTooltip:!0}],row:{},data:[],loading:!1,pagination:{currentPage:1,pageSize:10,total:0},options:{stripe:!0,height:"529px",border:!0}}},methods:{open:function(t){this.visible=!0,this.row=t.data,this.pagination.currentPage=1,this.title=t.seriesName+"详情",this.getData()},getData:function(){var t=this;this.loading=!0,this.data=[];var e=this.row.label,i={pageNum:this.pagination.currentPage,pageSize:this.pagination.pageSize,startTime:Object(r["c"])(e)[0]+" 00:00:00.000",endTime:Object(r["c"])(e)[1]+" 23:59:59.000",timestampDsc:!0,alarmLevel:this.row.item.addr};o["a"].getHstEvtList(i).then((function(e){e.data&&(t.pagination.total=e.total,t.data=e.data)})).finally((function(){t.loading=!1}))},paginationCurrentChange:function(t){this.pagination.currentPage=t,this.getData()},handleClosed:function(){this.loading=!1}}},l=s,c=i("2877"),p=Object(c["a"])(l,a,n,!1,null,"fa21849e",null);e["default"]=p.exports}}]);