(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2691156"],{"8b51":function(e,t,n){"use strict";var a=n("9bd2"),c=VUE_APP_API,o=VUE_APP_API_STATION;t["a"]={getSpaceDev:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getAllSpaceByStationId?spaceId=").concat(e),method:"post"})},getSpaceBasicAndSpaceGroup:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getSpaceBasicAndSpaceGroup/").concat(e),method:"get"})},spaceList:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getAllSpacePoint/").concat(e.groupId,"/").concat(e.groupType),method:"get"})},getCharts:function(e){return Object(a["a"])({url:"".concat(c,"/real/getVarNamesValue"),method:"post",data:e})},getTimeData:function(e){return Object(a["a"])({url:"".concat(o,"/realMonitor/dynamicEnvironmentRealData?spaceId=").concat(e),method:"post"})},getRealgetAlarmTempl:function(e){return Object(a["a"])({url:"".concat(o,"/realMonitor/getRealgetAlarmTempl"),method:"get",params:e})}}},b667:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.pageId,ref:"tree",attrs:{load:e.loadNode,props:e.defaultProps,lazy:"","node-key":"id","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!0,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},c=[],o=n("e1e5"),r=n("8b51"),i={name:"config-tree",props:["pageId"],components:{},computed:{},data:function(){return{activeName:"1",loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null}},watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.tree.setCurrentKey(a);var c=this.$refs.tree.getCurrentNode();this.Node=c}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t){var n=this;0===e.level?this.pageId&&r["a"].getSpaceBasicAndSpaceGroup(this.pageId).then((function(e){var a={};e.data.basicArray.map((function(e){"id"===e.url?a.id=e.spaceId:"name"===e.url&&(a.name=e.name)})),a.icon="shebei",a.hasChild=!0;var c=n.hasChild([a]);return t(c)})):this.$nextTick((function(){o["a"].getCameraPoint({id:e.data.id}).then((function(a){var c=a.data.spaceDgtVos||[],o=a.data.spaceAnalogVos||[],r=a.data.spaceVoList||[],i=c.concat(o).concat(r),d=n.hasChild(i);return e.childNodes=null,e.data.children=null,t(d)})).finally((function(){n.loading=!1}))}))},hasChild:function(e){return e&&0!==e.length?(e.forEach((function(t,n){e[n].leaf=e[n]&&!e[n].hasChild})),e):[]}}},d=i,s=n("2877"),l=Object(s["a"])(d,a,c,!1,null,"670a5350",null);t["default"]=l.exports},e1e5:function(e,t,n){"use strict";var a=n("9bd2"),c=VUE_APP_API,o=VUE_APP_API_STATION;t["a"]={nodeGetById:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getById/").concat(e),method:"get"})},deleteInspectTaskById:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/deleteInspectTaskById/").concat(e),method:"delete"})},saveInspectTask:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/saveInspectTask"),method:"post",data:e})},updateInspectTask:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/updateInspectTask"),method:"put",data:e})},getPageInspectTask:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/getPageInspectTask"),method:"post",data:e})},getInspectTaskById:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/getInspectTaskById"),method:"post",data:e})},startTask:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/record/startTask"),method:"post",data:e})},getCameraPoint:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getInspectionPointById"),method:"post",params:e})},getCameraPointType:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getInspectionPointById?id=").concat(e.id,"&nodeTypeList=").concat(e.nodeTypeList[0],"&nodeTypeList=").concat(e.nodeTypeList[1]),method:"post"})},getCalendar:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/getCalendar"),method:"post",data:e})},getYear:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/task/getYear"),method:"post",data:e})}}}}]);