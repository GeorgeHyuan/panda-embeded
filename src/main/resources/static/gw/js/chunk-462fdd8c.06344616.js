(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-462fdd8c","chunk-085e43fc","chunk-2d209511"],{"714d":function(e,t,a){},"83f4":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("full-calendar",{ref:"calendar",staticClass:"calendar",attrs:{config:e.calendarConfig,events:e.calendarEvents},on:{"event-selected":e.eventClick,"day-click":e.dayClick}}),a("titleOpen",{ref:"titleOpen"})],1)},n=[],o=a("25cc"),i=(a("fa91"),a("e1e5")),c=a("f4dc"),u=a("6f62"),s={components:{FullCalendar:o["a"],titleOpen:c["default"]},mixins:[],data:function(){var e=this;return{yuanshiDate:Object(u["d"])("m"),defaultDate:Object(u["d"])("d"),calendarConfig:{firstDay:1,weekNumberCalculation:"ISO",weekends:!0,locale:"zh-cn",defaultView:"month",defaultDate:Object(u["d"])("d"),height:786,fixedWeekCount:!0,showNonCurrentDates:!1,allDaySlot:!1,eventStartEditable:!1,eventDurationEditable:!1,events:function(t,a,l,n){e.defaultDate=Object(u["c"])(t),e.initData(),n(e.calendarEvents)},header:{left:"",center:"title",right:"prevYear,prev,today,next,nextYear"},buttonText:{today:"当月"}},calendarEvents:[],data:[]}},watch:{defaultDate:function(e){}},computed:{},mounted:function(){},methods:{open:function(e,t){this.init()},close:function(){this.visible=!1},handleClosed:function(){this.$nextTick((function(){}))},init:function(){this.visible=!0},initData:function(){var e=this;this.calendarEvents=[];var t="",a=2;console.log(this.defaultDate,this.yuanshiDate),this.defaultDate.split("-")[0]+"-"+this.defaultDate.split("-")[1]===this.yuanshiDate?(t=Object(u["b"])(new Date),a=2):(t=this.defaultDate+" 00:00:00",a=new Date(this.defaultDate).getTime()>(new Date).getTime()?3:1);var l={dateStr:t,type:a};i["a"].getCalendar(l).then((function(t){t.data.map((function(t){t.title=t.name,5===t.type?(t.backgroundColor="#E6A23C",t.borderColor="#E6A23C"):4===t.type?(t.backgroundColor="#67C23A",t.borderColor="#67C23A"):3===t.type?(t.backgroundColor="#909399",t.borderColor="#909399"):2===t.type?(t.backgroundColor="#F56C6C",t.borderColor="#F56C6C"):1!==t.type&&6!==t.type||(t.backgroundColor="#409EFF",t.borderColor="#409EFF"),t.url="",t.textColor="#fff",t.start=t.dateStr,t.startDay=t.dateStr.split(" ")[0];var a=0;e.calendarEvents.map((function(e){e.startDay===t.startDay&&a++})),a<5&&e.calendarEvents.push(t)})),e.data=t.data})).catch((function(e){console.log(e)})).finally((function(){}))},eventClick:function(e){console.log(e,".....");var t=[];this.data.map((function(a){e.startDay===a.dateStr.split(" ")[0]&&t.push(a)})),this.$refs.titleOpen.open(t,e.startDay)},dayClick:function(e,t,a){},comfirmDialog:function(){}}},r=s,d=(a("8f57"),a("2877")),v=Object(d["a"])(r,l,n,!1,null,null,null);t["default"]=v.exports},"8f57":function(e,t,a){"use strict";a("714d")},9951:function(e,t,a){"use strict";t["a"]={data:function(){return{implementOptions:[{value:1,label:"立即"},{value:2,label:"定时"},{value:3,label:"周期"}],taskStateOptions:[{value:6,label:"手动停止"},{value:5,label:"等待执行"},{value:4,label:"正在执行"},{value:3,label:"任务暂停"},{value:2,label:"异常终止"},{value:1,label:"已完成"}],taskTypeOptions:[{value:"1",label:"例行巡视"},{value:"2",label:"特殊巡视"},{value:"3",label:"专项巡视"},{value:"4",label:"自定义巡视"}],timeOptions:[{value:"1",label:"每天"},{value:"2",label:"每周"},{value:"3",label:"每月"}],monthOptions:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"},{value:"27",label:"27"},{value:"28",label:"28"},{value:"29",label:"29"},{value:"30",label:"30"},{value:"31",label:"31"}],weekOptions:[{value:"1",label:"周一"},{value:"2",label:"周二"},{value:"3",label:"周三"},{value:"4",label:"周四"},{value:"5",label:"周五"},{value:"6",label:"周六"},{value:"7",label:"周日"}],warningOptions:[{value:1,label:"是"},{value:0,label:"否"}],addrFormat:{"power-infra-gloves-detection":"未带手套","helmet-classify":"未带安全帽"}}}}},a914:function(e,t,a){"use strict";a.r(t),t["default"]={data:function(){this.$createElement;var e=this;return{data:[],columns:[{title:"序号",key:"",width:60,formatter:function(e,t,a,l){return l+1}},{title:"任务名称",key:"name",showOverflowTooltip:!0},{title:"执行时间",key:"dateStr",showOverflowTooltip:!0},{title:"任务状态",key:"type",showOverflowTooltip:!0,component:{render:function(t,a){var l="";return e.taskStateOptions.forEach((function(e){a.type===e.value&&(l=e.label)})),t("span",{style:"color:".concat(a.backgroundColor)},[l])}}}],loading:!1,options:{stripe:!0,height:"calc(100vh - 308px)",border:!0}}}}},e1e5:function(e,t,a){"use strict";var l=a("9bd2"),n=VUE_APP_API,o=VUE_APP_API_STATION;t["a"]={nodeGetById:function(e){return Object(l["a"])({url:"".concat(n,"/device/space/getById/").concat(e),method:"get"})},deleteInspectTaskById:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/deleteInspectTaskById/").concat(e),method:"delete"})},saveInspectTask:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/saveInspectTask"),method:"post",data:e})},updateInspectTask:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/updateInspectTask"),method:"put",data:e})},getPageInspectTask:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/getPageInspectTask"),method:"post",data:e})},getInspectTaskById:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/getInspectTaskById"),method:"post",data:e})},startTask:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/record/startTask"),method:"post",data:e})},getCameraPoint:function(e){return Object(l["a"])({url:"".concat(n,"/device/space/getInspectionPointById"),method:"post",params:e})},getCameraPointType:function(e){return Object(l["a"])({url:"".concat(n,"/device/space/getInspectionPointById?id=").concat(e.id,"&nodeTypeList=").concat(e.nodeTypeList[0],"&nodeTypeList=").concat(e.nodeTypeList[1]),method:"post"})},getCalendar:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/getCalendar"),method:"post",data:e})},getYear:function(e){return Object(l["a"])({url:"".concat(o,"/inspection/task/getYear"),method:"post",data:e})}}},f4dc:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-container",{attrs:{title:e.title,width:"800px",height:"400px",visible:e.visible,"show-footer":!1},on:{"update:visible":function(t){e.visible=t},closed:e.handleClosed,closeDialog:e.close,comfirmDialog:e.comfirmDialog}},[a("div",{staticClass:"dialog-box"},[a("el-row",{attrs:{gutter:10}},[a("d2-crud",{ref:"d2Crud",attrs:{columns:e.columns,data:e.data,loading:e.loading,options:e.options}})],1)],1)])},n=[],o=a("9951"),i=a("a914"),c={components:{},mixins:[o["a"],i["default"]],data:function(){return{visible:!1,title:"title"}},computed:{},watch:{},mounted:function(){},methods:{open:function(e,t){this.data=e,this.title=t,this.init()},close:function(){this.visible=!1},handleClosed:function(){},init:function(){this.visible=!0},comfirmDialog:function(){this.visible=!1}}},u=c,s=a("2877"),r=Object(s["a"])(u,l,n,!1,null,null,null);t["default"]=r.exports}}]);