(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128d8369","chunk-1084309b","chunk-7a347caa","chunk-eb3d6992","chunk-f2691156","chunk-397397b1"],{"0b3d":function(e,t,n){},"0f8c":function(e,t,n){},1224:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"control"},[n("div",{staticClass:"direction"},[n("i",{staticClass:"el-icon-caret-top up btn",on:{mousedown:function(t){return e.handleStart("UP")},mouseup:function(t){return e.handleStop("up")}}}),n("i",{staticClass:"el-icon-caret-bottom bottom btn",on:{mousedown:function(t){return e.handleStart("DOWN")},mouseup:function(t){return e.handleStop("down")}}}),n("i",{staticClass:"el-icon-caret-left left btn",on:{mousedown:function(t){return e.handleStart("LEFT")},mouseup:function(t){return e.handleStop("left")}}}),n("i",{staticClass:"el-icon-caret-right right btn",on:{mousedown:function(t){return e.handleStart("RIGHT")},mouseup:function(t){return e.handleStop("right")}}}),n("span",{staticClass:"center-ok"})]),n("div",{staticClass:"zoom"},[n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[e._v("步长")]),n("el-slider",{staticClass:"block-slider",attrs:{min:1,max:8,"show-input":""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[e._v("聚焦")]),n("el-slider",{staticClass:"block-slider",attrs:{min:0,max:10,step:.1,"show-input":""},on:{change:e.jujiao},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[e._v("光圈")]),n("el-slider",{staticClass:"block-slider",attrs:{min:0,max:10,step:.1,"show-input":""},on:{change:e.guangquan},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}})],1),n("div",{staticClass:"bianbei publicstyle"},[n("i",{staticClass:"el-icon-remove-outline left",on:{mousedown:function(t){return e.handleStart("ZOOM_OUT")},mouseup:function(t){return e.handleStop("stop")}}}),n("span",[e._v("变倍")]),n("i",{staticClass:"el-icon-circle-plus-outline right",on:{mousedown:function(t){return e.handleStart("ZOOM_IN")},mouseup:function(t){return e.handleStop("stop")}}})])])])},o=[],r=n("2f62"),c=n("e953"),i=n("7658");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{active_item:{type:Object}},data:function(){return{value:4,value2:5,value3:5,options:[{key:1,value:1},{key:2,value:2},{key:3,value:3},{key:4,value:4},{key:5,value:5},{key:6,value:6},{key:7,value:7},{key:8,value:8}],upFlag:!0,leftFlag:!0,downFlag:!0,rightFlag:!0}},computed:d(d({},Object(r["c"])("d2admin",{themeActiveSetting:"theme/activeSetting"})),{},{bgColor:function(){return c["a"][this.themeActiveSetting.name].areaBackgroundHover}}),mounted:function(){this.jianpanBangding()},methods:{handleStart:function(e){if(!this.active_item.nodeId)return!1;var t="";t="FOCUS"===e?this.value2:"IRIS"===e?this.value3:this.value;var n={id:this.active_item.nodeId,speed:t,ptzCommandEnum:e};i["a"].ptzcontrollerStart(n).then((function(e){}))},jujiao:function(e){this.handleStart("FOCUS")},guangquan:function(e){this.handleStart("IRIS")},handleStop:function(e){if(!this.active_item.nodeId)return!1;var t={id:this.active_item.nodeId};i["a"].ptzcontrollerStop(t).then((function(e){}))},jianpanBangding:function(){var e=this;document.onkeydown=function(t){var n=t||window.event;if(!e.active_item.live)return!1;n&&38===n.keyCode&&!0===e.upFlag&&(console.log("38=上键.按下"),e.handleStart("UP"),e.upFlag=!1),n&&37===n.keyCode&&!0===e.leftFlag&&(console.log("37=左键.按下"),e.handleStart("LEFT"),e.leftFlag=!1),n&&40===n.keyCode&&!0===e.downFlag&&(console.log("40=下键.按下"),e.handleStart("DOWN"),e.downFlag=!1),n&&39===n.keyCode&&!0===e.rightFlag&&(console.log("39=右键.按下"),e.handleStart("RIGHT"),e.rightFlag=!1)},document.onkeyup=function(t){var n=t||window.event;if(!e.active_item.live)return!1;n&&38===n.keyCode&&(e.upFlag=!0,console.log("38=上键.抬起"),e.handleStop()),n&&37===n.keyCode&&(e.leftFlag=!0,console.log("37=左键.抬起"),e.handleStop()),n&&40===n.keyCode&&(e.downFlag=!0,console.log("40=下键.抬起"),e.handleStop()),n&&39===n.keyCode&&(e.rightFlag=!0,console.log("39=右键.抬起"),e.handleStop())}}},beforeDestroy:function(){document.onkeydown=function(){},document.onkeyup=function(){}}},p=u,f=(n("22ef"),n("2877")),h=Object(f["a"])(p,a,o,!1,null,null,null);t["default"]=h.exports},1876:function(e,t,n){},"22ef":function(e,t,n){"use strict";n("0f8c")},3709:function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API_STATION,r=VUE_APP_API;t["a"]={basicInfo:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getRawBasicBySpaceId"),method:"post",params:e})},querySpaceIns:function(e){return Object(a["a"])({url:"".concat(r,"/device/space/queryRawIns"),method:"post",data:e})},basicInfoRow:function(e){return Object(a["a"])({url:"".concat(r,"/device/raw/getRawBasicAndRawGroup/").concat(e),method:"get"})},confirmResult:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/confirmResult"),method:"post",params:e})},inspectSingleHst:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/inspectSingleHst"),method:"post",data:e})},startIdentificate:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/startIdetity"),method:"post",params:e})},getIdentityStatus:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getIdentityStatus"),method:"post",params:e})},initializeIdentityStatus:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/initializeIdentityStatus"),method:"post",params:e})},getLatestRecord:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getLatestRecord/").concat(e),method:"post"})},defectAnalysis:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/defect/defectAnalysis/").concat(e),method:"get"})}}},"3b0a":function(e,t,n){"use strict";n("0b3d")},"48f9":function(e,t,n){},5355:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.devId,ref:"treeTwo",attrs:{props:e.defaultProps,"node-key":"id",lazy:"",load:e.loadNode,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!1,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},o=[],r=n("2f62"),c=n("e1e5"),i=n("7658"),s=n("5cf4");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"config-tree",components:{},data:function(){return{loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null,resolve:null,treeData:[]}},computed:l(l({},Object(r["c"])("d2admin",{treeNode:"tree/treeNode"})),{},{devId:function(){return this.treeNode.id},treeType:function(){return this.$route.meta.treeType}}),watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.treeTwo.setCurrentKey(a);var o=this.$refs.treeTwo.getCurrentNode();this.Node=o}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t,n){var a=this;0===e.level?(this.node=e,this.node.childNodes=[],this.loading=!0,this.devId&&c["a"].nodeGetById(this.devId).then((function(n){var o=a.hasChild([n.data]);return e=a.node.childNodes=[],t(o)})).then((function(){})).finally((function(){a.loading=!1}))):this.$nextTick((function(){if(e.data.id===a.devId){var n={ids:[a.devId],name:"assistance_camera"};i["a"].getBasicsBySpaceIdAndType(n).then((function(e){var n=[];return e.data.map((function(e,t){n.push({aiAddr:e.aiAddr,id:e.id,nodeType:e.nodeType,live:"".concat(e.devNum,"@").concat(e.channelNum),addrSrc:"webrtc://".concat(serverIp_app_live,"/live/").concat(e.devNum,"@").concat(e.channelNum),channelNum:e.channelNum,devNum:e.devNum,name:e.name})})),t(a.hasChild(n,"摄像头"))})).finally((function(){}))}else s["a"].getRawInspectionByCamaraId({id:e.data.id}).then((function(n){return n&&n.data.length?t(a.hasChild(n.data,"点位",e.data)):t([])}))}))},hasChild:function(e,t,n){return e&&0!==e.length?(e.forEach((function(a,o){"摄像头"===t?e[o].icon="shexiangtou":"点位"===t?(e[o].leaf=!0,e[o].camaraData=n,e[o].camaraType="二次设备点位"):e[o].leaf=!1})),e):[]}}},f=p,h=(n("e24c"),n("ad45"),n("2877")),m=Object(h["a"])(f,a,o,!1,null,"50b8104e",null);t["default"]=m.exports},"570b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.devId,ref:"tree",attrs:{load:e.loadNode,props:e.defaultProps,lazy:"","node-key":"id","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!1,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},o=[],r=n("2f62"),c=n("e1e5");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"config-tree",components:{},computed:s(s({},Object(r["c"])("d2admin",{treeNode:"tree/treeNode"})),{},{devId:function(){return this.treeNode.id},treeType:function(){return this.$route.meta.treeType}}),data:function(){return{activeName:"1",loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null}},watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.tree.setCurrentKey(a);var o=this.$refs.tree.getCurrentNode();this.Node=o}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t){var n=this;0===e.level?this.devId&&c["a"].nodeGetById(this.devId).then((function(e){var a=n.hasChild([e.data]);return t(a)})):this.$nextTick((function(){c["a"].getCameraPoint({id:e.data.id}).then((function(a){var o=a.data.spaceDgtVos||[],r=a.data.spaceAnalogVos||[],c=a.data.spaceVoList||[],i=o.concat(r).concat(c),s=n.hasChild(i);return e.childNodes=null,e.data.children=null,t(s)})).finally((function(){n.loading=!1}))}))},hasChild:function(e){return e&&0!==e.length?(e.forEach((function(t,n){e[n].leaf=!e[n].hasChild})),e):[]}}},u=l,p=n("2877"),f=Object(p["a"])(u,a,o,!1,null,"088451b3",null);t["default"]=f.exports},"5cf4":function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API_STATION,r=VUE_APP_API;t["a"]={equipmentFrame:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getLastPonitByDevice"),method:"post",params:e})},getCharts:function(e){return Object(a["a"])({url:"".concat(r,"/real/getVarNamesValue"),method:"post",data:e})},getRawInspectionByCamaraId:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getRawInspectionByCamaraId"),method:"post",params:e})},getSpaceByParam:function(e){return Object(a["a"])({url:"".concat(r,"/device/space/getSpaceByParam"),method:"post",data:e})}}},"6a9d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.pageId,ref:"treeTwo",attrs:{props:e.defaultProps,"node-key":"id",lazy:"",load:e.loadNode,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!0,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},o=[],r=n("3709"),c=n("5cf4"),i={name:"config-tree",props:["pageId"],components:{},data:function(){return{loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null,resolve:null,treeData:[]}},computed:{},watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.treeTwo.setCurrentKey(a);var o=this.$refs.treeTwo.getCurrentNode();this.Node=o}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t,n){var a=this;0===e.level?(this.node=e,this.node.childNodes=[],this.loading=!0,this.pageId&&r["a"].basicInfoRow(this.pageId).then((function(e){var n={};return e.data.basicArray.map((function(e,t){"id"===e.url?n.id=e.spaceId:"channelNum"===e.url?n.channelNum=e.name:"devNum"===e.url?n.devNum=e.name:"name"===e.url&&(n.name=e.name)})),n.live="".concat(n.devNum,"@").concat(n.channelNum),n.icon="shebei",n.hasChild=!0,n.addrSrc="webrtc://".concat(serverIp_app_live,"/live/").concat(n.devNum,"@").concat(n.channelNum),console.log(n),t(a.hasChild([n],"摄像头"))})).finally((function(){a.loading=!1}))):this.$nextTick((function(){c["a"].getRawInspectionByCamaraId({id:e.data.id}).then((function(n){return n&&n.data.length?t(a.hasChild(n.data,"点位",e.data)):t([])}))}))},hasChild:function(e,t,n){return e&&0!==e.length?(e.forEach((function(a,o){"摄像头"===t?e[o].icon="shexiangtou":"点位"===t?(e[o].leaf=!0,e[o].camaraData=n,e[o].camaraType="二次设备点位"):e[o].leaf=!1})),e):[]}}},s=i,d=(n("3b0a"),n("738f"),n("2877")),l=Object(d["a"])(s,a,o,!1,null,"b9430152",null);t["default"]=l.exports},"738f":function(e,t,n){"use strict";n("1876")},7658:function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API_LIVE,r=VUE_APP_API_STATION,c=VUE_APP_API;t["a"]={ptzcontrollerStart:function(e){return Object(a["a"])({url:"".concat(r,"/camera/ptzcontrollerStart"),method:"post",data:e})},ptzcontrollerStop:function(e){return Object(a["a"])({url:"".concat(r,"/camera/ptzcontrollerStop"),method:"post",data:e})},getBasicsBySpaceIdAndType:function(e){return Object(a["a"])({url:"".concat(r,"/station/video/getBasicsBySpaceIdAndType"),method:"post",data:e})},getOrganizeSpaceIds:function(e){return Object(a["a"])({url:"".concat(r,"/station/video/getOrganizeSpaceIds"),method:"post",params:e})},getPageVideo:function(e){var t=e.data;return Object(a["a"])({url:"".concat(r,"/station/video/getBasicsBySpaceIdAndType?spaceId=").concat(t.spaceId,"&type=assistance_camera"),method:"get"})},startPlay:function(e){var t=e.data;return Object(a["a"])({url:"".concat(o,"/").concat(t.room,"/").concat(t.channel,"/startPlay"),method:"get"})},stopPlay:function(e){var t=e.data;return Object(a["a"])({url:"".concat(o,"/").concat(t.room,"/").concat(t.channel,"/stopPlay"),method:"get"})},ptzStart:function(e){var t=e.data;return Object(a["a"])({url:"".concat(r,"/common/sipPtzCmd?idAndChild=").concat(t.idAndChild,"&ptzcmd=").concat(t.direct),method:"get"})},eventMediaUpload:function(e){var t=e.data;return Object(a["a"])({url:"".concat(o,"/").concat(t.deviceId,"/").concat(t.evtId,"/").concat(t.protocol,"/").concat(t.type,"/eventMediaUpload"),method:"get"})},movePresetByAli:function(e){return Object(a["a"])({url:"".concat(r,"/camera/movePreset"),method:"post",data:{id:e.cameraId,presetToken:e.point}})},snapShot:function(e){return Object(a["a"])({url:"".concat(c,"/camera/snapShot"),method:"post",data:e})},getDataPointDetailYx:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/queryDgtByRawId"),method:"post",data:e})},getDataPointDetailYc:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/queryAnalogByRawId"),method:"post",data:e})},cameraStatus:function(e){return Object(a["a"])({url:"".concat(c,"/real/cameraStatus"),method:"post",params:e})},pauseTask:function(e){return Object(a["a"])({url:"".concat(r,"/camera/").concat(e,"/pauseTask"),method:"post"})},restartTask:function(e){return Object(a["a"])({url:"".concat(r,"/camera/").concat(e,"/restartTask"),method:"post"})},stopTask:function(e){return Object(a["a"])({url:"".concat(r,"/camera/").concat(e,"/stopTask"),method:"post"})},queryChannel:function(){return Object(a["a"])({url:"".concat(c,"/srs/queryChannel"),method:"get"})},querySession:function(){return Object(a["a"])({url:"".concat(c,"/srs/querySession"),method:"get"})},sip_invite:function(e){return Object(a["a"])({url:"".concat(VUE_APP_API_LIVE_KONG,"?action=sip_invite&id=").concat(e.id,"&chid=").concat(e.chid),method:"get"})},snapShotAndExcuteBase:function(e){return Object(a["a"])({url:"".concat(r,"/camera/snapShotAndExcuteBase"),method:"post",data:e})}}},8750:function(e,t,n){"use strict";n("b4ed")},8927:function(e,t,n){},"8b51":function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API,r=VUE_APP_API_STATION;t["a"]={getSpaceDev:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getAllSpaceByStationId?spaceId=").concat(e),method:"post"})},getSpaceBasicAndSpaceGroup:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getSpaceBasicAndSpaceGroup/").concat(e),method:"get"})},spaceList:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getAllSpacePoint/").concat(e.groupId,"/").concat(e.groupType),method:"get"})},getCharts:function(e){return Object(a["a"])({url:"".concat(o,"/real/getVarNamesValue"),method:"post",data:e})},getTimeData:function(e){return Object(a["a"])({url:"".concat(r,"/realMonitor/dynamicEnvironmentRealData?spaceId=").concat(e),method:"post"})},getRealgetAlarmTempl:function(e){return Object(a["a"])({url:"".concat(r,"/realMonitor/getRealgetAlarmTempl"),method:"get",params:e})}}},"9fab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-card",{staticClass:"box-card bujiapadding",staticStyle:{height:"100%"},on:{cardRefresh:e.cardRefresh}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("i",{staticClass:"fa fa-tree"}),n("span",[e._v(e._s(e.pageType||"设备")+"列表")])]),e.pageType?"设备"===e.pageType?n("div",{staticClass:"devTree"},[n("devTree",{ref:"devTree",staticClass:"devTreeMain",attrs:{pageId:e.pageId}})],1):"摄像头"===e.pageType?n("div",{staticClass:"devTree"},[n("cameraTree",{ref:"cameraTree",staticClass:"devTreeMain",attrs:{pageId:e.pageId}})],1):e._e():n("div",{staticClass:"devTree"},[n("div",{staticClass:"top-tabs d2-mb"},e._l(e.tabs,(function(t,a){return n("span",{key:a,class:e.activeName===t.key?"click-color":"",on:{click:function(n){return e.clickItem(t.key)}}},[e._v(e._s(t.name))])})),0),"1"===e.activeName?n("oneTree",{ref:"oneTree",staticClass:"devTreeMain"}):e._e(),"2"===e.activeName?n("twoTree",{ref:"twoTree",staticClass:"devTreeMain"}):e._e()],1),n("div",{staticClass:"selectValueStyle"},[n("el-radio-group",{attrs:{size:"medium"},on:{change:e.selectChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},[n("el-radio-button",{attrs:{label:1}},[n("i",{staticClass:"fa fa-square"})]),n("el-radio-button",{attrs:{label:4}},[n("i",{staticClass:"fa fa-th-large"})]),n("el-radio-button",{attrs:{label:9}},[n("i",{staticClass:"fa fa-th"})]),n("el-radio-button",{attrs:{label:16}},[n("i",{staticClass:"fa fa-align-center"})])],1)],1),n("div",{staticClass:"video-sty",staticStyle:{height:"356px"}},[n("contory",{attrs:{active_item:e.active_item}})],1)])},o=[],r=n("2f62"),c=n("1224"),i=n("5355"),s=n("570b"),d=n("b667"),l=n("6a9d");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"config-tree",props:{pageType:{type:String,default:null},pageId:{type:String,default:null}},components:{contory:c["default"],twoTree:i["default"],oneTree:s["default"],cameraTree:l["default"],devTree:d["default"]},data:function(){return{activeName:"1",tabs:[{name:"设备列表",key:"1"},{name:"摄像头列表",key:"2"}],active_item:{},selectValue:1}},computed:p(p({},Object(r["c"])("d2admin",{treeNode:"tree/treeNode"})),{},{devId:function(){return this.treeNode.id},treeType:function(){return this.$route.meta.treeType}}),watch:{devId:function(){}},methods:{cardRefresh:function(){},active_itemChange:function(e){this.active_item=e},selectChange:function(e){this.$emit("selectChange",e)},clickItem:function(e){this.activeName=e}},mounted:function(){},beforeDestroy:function(){this.$store.dispatch("d2admin/tree/setDevTreeNode",{})}},m=h,g=(n("e501"),n("8750"),n("2877")),v=Object(g["a"])(m,a,o,!1,null,"6bdf25fb",null);t["default"]=v.exports},ad45:function(e,t,n){"use strict";n("48f9")},ad4b:function(e,t,n){},b4ed:function(e,t,n){},b667:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.pageId,ref:"tree",attrs:{load:e.loadNode,props:e.defaultProps,lazy:"","node-key":"id","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!0,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},o=[],r=n("e1e5"),c=n("8b51"),i={name:"config-tree",props:["pageId"],components:{},computed:{},data:function(){return{activeName:"1",loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null}},watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.tree.setCurrentKey(a);var o=this.$refs.tree.getCurrentNode();this.Node=o}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t){var n=this;0===e.level?this.pageId&&c["a"].getSpaceBasicAndSpaceGroup(this.pageId).then((function(e){var a={};e.data.basicArray.map((function(e){"id"===e.url?a.id=e.spaceId:"name"===e.url&&(a.name=e.name)})),a.icon="shebei",a.hasChild=!0;var o=n.hasChild([a]);return t(o)})):this.$nextTick((function(){r["a"].getCameraPoint({id:e.data.id}).then((function(a){var o=a.data.spaceDgtVos||[],r=a.data.spaceAnalogVos||[],c=a.data.spaceVoList||[],i=o.concat(r).concat(c),s=n.hasChild(i);return e.childNodes=null,e.data.children=null,t(s)})).finally((function(){n.loading=!1}))}))},hasChild:function(e){return e&&0!==e.length?(e.forEach((function(t,n){e[n].leaf=e[n]&&!e[n].hasChild})),e):[]}}},s=i,d=n("2877"),l=Object(d["a"])(s,a,o,!1,null,"670a5350",null);t["default"]=l.exports},e1e5:function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API,r=VUE_APP_API_STATION;t["a"]={nodeGetById:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getById/").concat(e),method:"get"})},deleteInspectTaskById:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/deleteInspectTaskById/").concat(e),method:"delete"})},saveInspectTask:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/saveInspectTask"),method:"post",data:e})},updateInspectTask:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/updateInspectTask"),method:"put",data:e})},getPageInspectTask:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/getPageInspectTask"),method:"post",data:e})},getInspectTaskById:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/getInspectTaskById"),method:"post",data:e})},startTask:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/record/startTask"),method:"post",data:e})},getCameraPoint:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getInspectionPointById"),method:"post",params:e})},getCameraPointType:function(e){return Object(a["a"])({url:"".concat(o,"/device/space/getInspectionPointById?id=").concat(e.id,"&nodeTypeList=").concat(e.nodeTypeList[0],"&nodeTypeList=").concat(e.nodeTypeList[1]),method:"post"})},getCalendar:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/getCalendar"),method:"post",data:e})},getYear:function(e){return Object(a["a"])({url:"".concat(r,"/inspection/task/getYear"),method:"post",data:e})}}},e24c:function(e,t,n){"use strict";n("ad4b")},e501:function(e,t,n){"use strict";n("8927")}}]);