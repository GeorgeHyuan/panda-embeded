(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52085f0d"],{"2bf5":function(t,e,a){},"32c8":function(t,e,a){"use strict";a("f0e3")},7420:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-card",{staticClass:"box-card",attrs:{bgClass:"cardBgColor",xiaojiaoShow:!1},on:{handleShowMax:t.handleShowMax}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"fa fa-tv"}),a("span",[t._v("系统统计")]),a("div",{staticClass:"btn-group-right",staticStyle:{"font-size":"0"}},t._l(t.options,(function(e,n){return a("span",{key:n,staticClass:"span-button",class:t.currentIndex===n?"background-color":"",attrs:{label:e.value},on:{click:function(a){return t.changBgcolr(e.value,n)}}},[t._v(t._s(e.label))])})),0)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%",height:"calc(50vh - 226px)"},attrs:{"element-loading-text":"数据加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"#080D21"}},["gpu"===t.value||t.noData?"gpu"!==t.value||t.noData?a("div",{staticClass:"no-data"},[t._v("暂无数据")]):a("chart",{staticStyle:{height:"100%",width:"100%"},attrs:{options:t.dataOptions2,"auto-resize":!0},on:{click:t.checkDetail}}):a("chart",{staticStyle:{height:"100%",width:"100%"},attrs:{options:t.dataOptions1,"auto-resize":!0},on:{click:t.checkDetail}})],1)])},i=[],o=a("313e"),r=a.n(o),c=a("932d"),l=a("6c51"),s={components:{},data:function(){var t=this;return{noData:!0,cardShowMax:!1,loading:!1,value:"cpu",currentIndex:0,titleName:"%",options:[{label:"cpu",value:"cpu",unit:"%"},{label:"磁盘",value:"disk",unit:"Mb"},{label:"内存",value:"memory",unit:"Mb"},{label:"gpu",value:"gpu"}],titleData:[{key:"nodeCpuSecondsCSystem",name:"系统cpu使用率",id:"cpu",lineColor:"#EAC376",lineStyle:["#9F8F6E","#33363D"]},{key:"nodeCpuSecondsAIowait",name:"等待IO完成的cpu使用率",id:"cpu",lineColor:"#2FA291",lineStyle:["#205F66","#0E192F"]},{key:"nodeCpuSecondsBUser",name:"用户cpu使用率",id:"cpu",lineColor:"#4070DF",lineStyle:["#264184","#0E162D"]},{key:"nodeFilesystemCSumBytes",name:"磁盘总空间",id:"disk",lineColor:"#EAC376",lineStyle:["#9F8F6E","#33363D"]},{key:"nodeFilesystemAAvailBytes",name:"磁盘可用空间",id:"disk",lineColor:"#2FA291",lineStyle:["#205F66","#0E192F"]},{key:"nodeFilesystemBUseBytes",name:"磁盘已用空间",id:"disk",lineColor:"#4070DF",lineStyle:["#264184","#0E162D"]},{key:"nodeMemoryAMemAvailableBytes",name:"可用物理内存",id:"memory",lineColor:"#EAC376",lineStyle:["#9F8F6E","#33363D"]},{key:"nodeMemoryBSwapTotal",name:"物理内存总量",id:"memory",lineColor:"#2FA291",lineStyle:["#205F66","#0E192F"]},{key:"nodeMemoryCSwapUseBytes",name:"虚拟内存使用量",id:"memory",lineColor:"#4070DF",lineStyle:["#264184","#0E162D"]}],chartsData:{},gpuChartsData:[{value:0,name:"已使用",key:"used"},{value:0,name:"未使用",key:"left"}],setInterTime:setInterval((function(){t.getData()}),5e3)}},computed:{dataOptions1:function(){var t=this,e=this,a="#93B5E2",n=[],i=[],o=[];if(this.chartsData){i=[],o=[];var c=function(e){t.titleData.map((function(a){a.key===e&&(n.push({yAxisIndex:"gpuFree"===e?1:0,name:a.name,type:"line",smooth:!0,showSymbol:!1,hoverAnimation:!1,lineStyle:{color:a.lineColor},areaStyle:{color:new r.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:a.lineStyle[0]},{offset:1,color:a.lineStyle[1]}])},data:t.chartsData[e].map((function(t){return t.length&&(t[0]=t[0]?1e3*t[0]:t[0],t[1]=Number(t[1])%1===0?Number(t[1]):Number(t[1]).toFixed(2)),t}))}),i.push(a.lineColor),o.push({name:a.name,icon:"circle"}))}))};for(var s in this.chartsData)c(s)}else n.push({name:"",type:"line",showSymbol:!1,hoverAnimation:!1,data:[]});var u={grid:{left:"5%",right:"6%",bottom:"1%",containLabel:!0,borderColor:a},color:i,tooltip:{trigger:"axis",formatter:function(t){for(var a=Object(l["g"])(t[0].axisValue),n=0,i=t.length;n<i;n++)a+="<br/>"+t[n].marker+t[n].seriesName+": "+t[n].value[1]+e.titleName;return a},position:function(t,e,a,n,i){var o=0,r=0,c=t[0],l=t[1],s=i.contentSize[0],u=i.contentSize[1];return o=s>c?5:c-s,r=u>l?5:l-u,[o-5,r-10]}},dataZoom:[{type:"inside",xAxisIndex:[0],start:0,end:100,filterMode:"none"}],xAxis:{type:"time",axisTick:{show:!1},splitLine:{show:!1},axisLine:{symbol:["none","arrow"],symbolSize:[8,8],symbolOffset:[0,7],lineStyle:{color:a,type:"solid",width:.6}},axisLabel:{formatter:function(t){var e=Object(l["g"])(t).slice(11,19)+"\n"+Object(l["g"])(t).slice(0,10);return e}}},yAxis:[{type:"value",name:"使用率(".concat(this.titleName,")"),minInterval:0,nameTextStyle:{color:a,align:"center",fontSize:12,fontWeight:"normal"},axisLine:{symbol:["none","arrow"],symbolSize:[8,8],symbolOffset:[0,7],lineStyle:{color:a,type:"solid",width:.6}},axisTick:{show:!1},splitLine:{show:!1,lineStyle:{type:"dashed",color:a}}},this.chartsData["gpuFree"]?{type:"value",name:"显存",minInterval:0,nameTextStyle:{color:a,align:"top",fontSize:12,fontWeight:"normal"},axisLine:{show:!0},splitLine:{show:!0,lineStyle:{type:"dashed",color:a}}}:{}],legend:{type:"scroll",itemWidth:5,itemHeight:5,textStyle:{color:"#274487",fontWeight:"bold"},data:o},series:n};return u},dataOptions2:function(){var t={tooltip:{trigger:"item",formatter:function(t){var e=t.marker+""+t.data.name+"</br>数量："+t.data.value+"</br>占比："+t.percent+"%";return e}},legend:{type:"scroll",itemWidth:5,itemHeight:5,textStyle:{color:"#274487",fontWeight:"bold"},data:[{name:"已使用",icon:"circle"},{name:"未使用",icon:"circle"}]},series:[{name:"gpu使用率",type:"pie",radius:["0%","70%"],center:["center","60%"],color:["#13b5b1","#f1bc94","#f19ec2","#bb47f2","#642fac","#920783","#eb6877","#4677fd","#61acf8","#b4e3f1","#b4f1b6","#f19149"],avoidLabelOverlap:!1,labelLine:{normal:{show:!0,length:10,length2:10,lineStyle:{color:"#006E6B",width:1}}},label:{normal:{formatter:["{b|{b}}","{c|{c}个}"].join("\n"),rich:{b:{fontSize:12,lineHeight:30},c:{fontSize:12,color:"#93B5E2",fontWeight:"normal",lineHeight:0}}}},data:this.gpuChartsData}]};return t}},watch:{value:function(t){var e=this;this.loading=!0,this.noData=!0,clearInterval(this.setInterTime),"gpu"===t?this.getGpuData():(this.getData(),this.setInterTime=setInterval((function(){e.getData()}),5e3))}},created:function(){this.loading=!0,this.getData()},methods:{changBgcolr:function(t,e){this.value=t,this.currentIndex=e,this.titleName=this.options[e].unit},getData:function(){var t=this,e={name:this.value};c["a"].resourceOccupation(e).then((function(e){if(!e||!e.result)return!1;t.noData=!1,t.chartsData=e.result})).catch((function(){t.chartsData={}})).finally((function(){t.loading=!1}))},getGpuData:function(){var t=this;this.gpuChartsData.map((function(t){t.value=0})),c["a"].resourceOccupationGpu().then((function(e){if(!e||!e.result)return!1;t.noData=!1;var a=e.result[0],n=function(e){if(a.hasOwnProperty(e)){var n=a[e];t.gpuChartsData.map((function(t){t.key===e&&(t.value=n)}))}};for(var i in a)n(i)})).catch((function(){t.gpuChartsData.map((function(t){t.value=0}))})).finally((function(){t.loading=!1}))},handleShowMax:function(t){this.cardShowMax=t},checkDetail:function(t){}},beforeDestroy:function(){clearInterval(this.setInterTime)}},u=s,m=(a("a209"),a("32c8"),a("2877")),d=Object(m["a"])(u,n,i,!1,null,"7084d21a",null);e["default"]=d.exports},"932d":function(t,e,a){"use strict";var n=a("9bd2"),i=VUE_APP_API_STATION;e["a"]={stationBasic:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/stationBasic"),method:"post",params:t})},runStatics:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/runStatics"),method:"post",params:t})},accessStatics:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/accessStatics"),method:"post",params:t})},accessStaticsFrame:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/accessStaticsFrame"),method:"post",params:t})},realDetail:function(t){return Object(n["a"])({url:"".concat(i,"/homePage/realDetail"),method:"post",data:t})},taskOverview:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/taskOverview"),method:"post",params:t})},taskOverviewOfFrame:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/taskOverviewOfFrame"),method:"post",data:t})},onOffLine:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/onOffLine"),method:"post",data:{}})},algorithmStatistics:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/algorithmStatistics"),method:"post",data:t})},algorithmStatisticsOfFrame:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/algorithmStatisticsOfFrame"),method:"post",params:t})},resourceOccupation:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/resourceOccupation"),method:"post",params:t})},resourceOccupationGpu:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/resourceOccupationGpu"),method:"post",params:{}})},getCamaraBasicBymainStationId:function(t){return Object(n["a"])({url:"".concat(i,"/dynamicMonControl/getCamaraBasicBymainStationId"),method:"post",params:t})},defectStatics:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/defectStatics"),method:"post",data:{}})},defectStaticsByMethodType:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/defectStaticsByMethodType"),method:"post",data:{}})},defectStaticsFrame:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/defectStaticsFrame"),method:"post",data:t})},alarmLevel:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/alarmLevel"),method:"post",data:{}})},alarmType:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/alarmType"),method:"post",data:{}})},alarmLevelGroupByLevelFrame:function(t){return Object(n["a"])({url:"".concat(i,"/inspectOverview/alarmLevelGroupByLevelFrame"),method:"post",data:t})},alarmTrend:function(){return Object(n["a"])({url:"".concat(i,"/inspectOverview/alarmTrend"),method:"post",params:{}})},getCamaraBasicBymainSt1ationId:function(t){return Object(n["a"])({url:"".concat(i,"/dynamicMonControl/getCamaraBasicBymainStationId"),method:"post",params:t})},alarmCommon:function(t){return Object(n["a"])({url:"".concat(i,"/homePage/alarmCommon"),method:"post",data:t})}}},a209:function(t,e,a){"use strict";a("2bf5")},f0e3:function(t,e,a){}}]);