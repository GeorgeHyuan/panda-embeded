(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a347caa"],{"0b3d":function(e,t,n){},1876:function(e,t,n){},3709:function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API_STATION,c=VUE_APP_API;t["a"]={basicInfo:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getRawBasicBySpaceId"),method:"post",params:e})},querySpaceIns:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/queryRawIns"),method:"post",data:e})},basicInfoRow:function(e){return Object(a["a"])({url:"".concat(c,"/device/raw/getRawBasicAndRawGroup/").concat(e),method:"get"})},confirmResult:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/confirmResult"),method:"post",params:e})},inspectSingleHst:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/inspectSingleHst"),method:"post",data:e})},startIdentificate:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/startIdetity"),method:"post",params:e})},getIdentityStatus:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getIdentityStatus"),method:"post",params:e})},initializeIdentityStatus:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/initializeIdentityStatus"),method:"post",params:e})},getLatestRecord:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getLatestRecord/").concat(e),method:"post"})},defectAnalysis:function(e){return Object(a["a"])({url:"".concat(o,"/inspection/defect/defectAnalysis/").concat(e),method:"get"})}}},"3b0a":function(e,t,n){"use strict";n("0b3d")},"5cf4":function(e,t,n){"use strict";var a=n("9bd2"),o=VUE_APP_API_STATION,c=VUE_APP_API;t["a"]={equipmentFrame:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getLastPonitByDevice"),method:"post",params:e})},getCharts:function(e){return Object(a["a"])({url:"".concat(c,"/real/getVarNamesValue"),method:"post",data:e})},getRawInspectionByCamaraId:function(e){return Object(a["a"])({url:"".concat(o,"/dynamicMonControl/getRawInspectionByCamaraId"),method:"post",params:e})},getSpaceByParam:function(e){return Object(a["a"])({url:"".concat(c,"/device/space/getSpaceByParam"),method:"post",data:e})}}},"6a9d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tree",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.pageId,ref:"treeTwo",attrs:{props:e.defaultProps,"node-key":"id",lazy:"",load:e.loadNode,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!0,"expand-on-click-node":!1,"render-content":e.renderContent,"highlight-current":!0},on:{"node-click":e.handleNodeClick}},"el-tree",e.$attrs,!1))},o=[],c=n("3709"),i=n("5cf4"),r={name:"config-tree",props:["pageId"],components:{},data:function(){return{loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null,resolve:null,treeData:[]}},computed:{},watch:{},methods:{handleNodeClick:function(e,t,n){if(e.hasChild||e.icon){if(!this.Node)return t.isCurrent=!1,!1;var a=this.Node.id;this.$refs.treeTwo.setCurrentKey(a);var o=this.$refs.treeTwo.getCurrentNode();this.Node=o}else this.Node=e,this.Nodes=t,this.MouseEvent=n.$el.childNodes[0].childNodes[0],e.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",e)},renderContent:function(e,t){var n=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[e("span",[e("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(e,t,n){var a=this;0===e.level?(this.node=e,this.node.childNodes=[],this.loading=!0,this.pageId&&c["a"].basicInfoRow(this.pageId).then((function(e){var n={};return e.data.basicArray.map((function(e,t){"id"===e.url?n.id=e.spaceId:"channelNum"===e.url?n.channelNum=e.name:"devNum"===e.url?n.devNum=e.name:"name"===e.url&&(n.name=e.name)})),n.live="".concat(n.devNum,"@").concat(n.channelNum),n.icon="shebei",n.hasChild=!0,n.addrSrc="webrtc://".concat(serverIp_app_live,"/live/").concat(n.devNum,"@").concat(n.channelNum),console.log(n),t(a.hasChild([n],"摄像头"))})).finally((function(){a.loading=!1}))):this.$nextTick((function(){i["a"].getRawInspectionByCamaraId({id:e.data.id}).then((function(n){return n&&n.data.length?t(a.hasChild(n.data,"点位",e.data)):t([])}))}))},hasChild:function(e,t,n){return e&&0!==e.length?(e.forEach((function(a,o){"摄像头"===t?e[o].icon="shexiangtou":"点位"===t?(e[o].leaf=!0,e[o].camaraData=n,e[o].camaraType="二次设备点位"):e[o].leaf=!1})),e):[]}}},d=r,s=(n("3b0a"),n("738f"),n("2877")),l=Object(s["a"])(d,a,o,!1,null,"b9430152",null);t["default"]=l.exports},"738f":function(e,t,n){"use strict";n("1876")}}]);