(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1084309b"],{"48f9":function(t,e,n){},5355:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tree",t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],key:t.devId,ref:"treeTwo",attrs:{props:t.defaultProps,"node-key":"id",lazy:"",load:t.loadNode,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","default-expand-all":!1,"expand-on-click-node":!1,"render-content":t.renderContent,"highlight-current":!0},on:{"node-click":t.handleNodeClick}},"el-tree",t.$attrs,!1))},c=[],o=n("2f62"),r=n("e1e5"),d=n("7658"),i=n("5cf4");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"config-tree",components:{},data:function(){return{loading:!1,defaultProps:{children:"children",label:"name",id:"id",isLeaf:"leaf"},MouseEvent:null,Node:{},Nodes:null,node:null,resolve:null,treeData:[]}},computed:u(u({},Object(o["c"])("d2admin",{treeNode:"tree/treeNode"})),{},{devId:function(){return this.treeNode.id},treeType:function(){return this.$route.meta.treeType}}),watch:{},methods:{handleNodeClick:function(t,e,n){if(t.hasChild||t.icon){if(!this.Node)return e.isCurrent=!1,!1;var a=this.Node.id;this.$refs.treeTwo.setCurrentKey(a);var c=this.$refs.treeTwo.getCurrentNode();this.Node=c}else this.Node=t,this.Nodes=e,this.MouseEvent=n.$el.childNodes[0].childNodes[0],t.treetype=this.treeType||"12",this.$store.dispatch("d2admin/tree/setDevTreeNode",t)},renderContent:function(t,e){var n=e.node,a=e.data;e.store;return t("span",{class:"custom-tree-node",attrs:{id:"node"+a.id}},[t("span",[t("i",{class:a.icon?"treeIcon "+a.icon:""}),n.label])])},loadNode:function(t,e,n){var a=this;0===t.level?(this.node=t,this.node.childNodes=[],this.loading=!0,this.devId&&r["a"].nodeGetById(this.devId).then((function(n){var c=a.hasChild([n.data]);return t=a.node.childNodes=[],e(c)})).then((function(){})).finally((function(){a.loading=!1}))):this.$nextTick((function(){if(t.data.id===a.devId){var n={ids:[a.devId],name:"assistance_camera"};d["a"].getBasicsBySpaceIdAndType(n).then((function(t){var n=[];return t.data.map((function(t,e){n.push({aiAddr:t.aiAddr,id:t.id,nodeType:t.nodeType,live:"".concat(t.devNum,"@").concat(t.channelNum),addrSrc:"webrtc://".concat(serverIp_app_live,"/live/").concat(t.devNum,"@").concat(t.channelNum),channelNum:t.channelNum,devNum:t.devNum,name:t.name})})),e(a.hasChild(n,"摄像头"))})).finally((function(){}))}else i["a"].getRawInspectionByCamaraId({id:t.data.id}).then((function(n){return n&&n.data.length?e(a.hasChild(n.data,"点位",t.data)):e([])}))}))},hasChild:function(t,e,n){return t&&0!==t.length?(t.forEach((function(a,c){"摄像头"===e?t[c].icon="shexiangtou":"点位"===e?(t[c].leaf=!0,t[c].camaraData=n,t[c].camaraType="二次设备点位"):t[c].leaf=!1})),t):[]}}},h=p,m=(n("e24c"),n("ad45"),n("2877")),f=Object(m["a"])(h,a,c,!1,null,"50b8104e",null);e["default"]=f.exports},"5cf4":function(t,e,n){"use strict";var a=n("9bd2"),c=VUE_APP_API_STATION,o=VUE_APP_API;e["a"]={equipmentFrame:function(t){return Object(a["a"])({url:"".concat(c,"/dynamicMonControl/getLastPonitByDevice"),method:"post",params:t})},getCharts:function(t){return Object(a["a"])({url:"".concat(o,"/real/getVarNamesValue"),method:"post",data:t})},getRawInspectionByCamaraId:function(t){return Object(a["a"])({url:"".concat(c,"/dynamicMonControl/getRawInspectionByCamaraId"),method:"post",params:t})},getSpaceByParam:function(t){return Object(a["a"])({url:"".concat(o,"/device/space/getSpaceByParam"),method:"post",data:t})}}},7658:function(t,e,n){"use strict";var a=n("9bd2"),c=VUE_APP_API_LIVE,o=VUE_APP_API_STATION,r=VUE_APP_API;e["a"]={ptzcontrollerStart:function(t){return Object(a["a"])({url:"".concat(o,"/camera/ptzcontrollerStart"),method:"post",data:t})},ptzcontrollerStop:function(t){return Object(a["a"])({url:"".concat(o,"/camera/ptzcontrollerStop"),method:"post",data:t})},getBasicsBySpaceIdAndType:function(t){return Object(a["a"])({url:"".concat(o,"/station/video/getBasicsBySpaceIdAndType"),method:"post",data:t})},getOrganizeSpaceIds:function(t){return Object(a["a"])({url:"".concat(o,"/station/video/getOrganizeSpaceIds"),method:"post",params:t})},getPageVideo:function(t){var e=t.data;return Object(a["a"])({url:"".concat(o,"/station/video/getBasicsBySpaceIdAndType?spaceId=").concat(e.spaceId,"&type=assistance_camera"),method:"get"})},startPlay:function(t){var e=t.data;return Object(a["a"])({url:"".concat(c,"/").concat(e.room,"/").concat(e.channel,"/startPlay"),method:"get"})},stopPlay:function(t){var e=t.data;return Object(a["a"])({url:"".concat(c,"/").concat(e.room,"/").concat(e.channel,"/stopPlay"),method:"get"})},ptzStart:function(t){var e=t.data;return Object(a["a"])({url:"".concat(o,"/common/sipPtzCmd?idAndChild=").concat(e.idAndChild,"&ptzcmd=").concat(e.direct),method:"get"})},eventMediaUpload:function(t){var e=t.data;return Object(a["a"])({url:"".concat(c,"/").concat(e.deviceId,"/").concat(e.evtId,"/").concat(e.protocol,"/").concat(e.type,"/eventMediaUpload"),method:"get"})},movePresetByAli:function(t){return Object(a["a"])({url:"".concat(o,"/camera/movePreset"),method:"post",data:{id:t.cameraId,presetToken:t.point}})},snapShot:function(t){return Object(a["a"])({url:"".concat(r,"/camera/snapShot"),method:"post",data:t})},getDataPointDetailYx:function(t){return Object(a["a"])({url:"".concat(r,"/device/space/queryDgtByRawId"),method:"post",data:t})},getDataPointDetailYc:function(t){return Object(a["a"])({url:"".concat(r,"/device/space/queryAnalogByRawId"),method:"post",data:t})},cameraStatus:function(t){return Object(a["a"])({url:"".concat(r,"/real/cameraStatus"),method:"post",params:t})},pauseTask:function(t){return Object(a["a"])({url:"".concat(o,"/camera/").concat(t,"/pauseTask"),method:"post"})},restartTask:function(t){return Object(a["a"])({url:"".concat(o,"/camera/").concat(t,"/restartTask"),method:"post"})},stopTask:function(t){return Object(a["a"])({url:"".concat(o,"/camera/").concat(t,"/stopTask"),method:"post"})},queryChannel:function(){return Object(a["a"])({url:"".concat(r,"/srs/queryChannel"),method:"get"})},querySession:function(){return Object(a["a"])({url:"".concat(r,"/srs/querySession"),method:"get"})},sip_invite:function(t){return Object(a["a"])({url:"".concat(VUE_APP_API_LIVE_KONG,"?action=sip_invite&id=").concat(t.id,"&chid=").concat(t.chid),method:"get"})},snapShotAndExcuteBase:function(t){return Object(a["a"])({url:"".concat(o,"/camera/snapShotAndExcuteBase"),method:"post",data:t})}}},ad45:function(t,e,n){"use strict";n("48f9")},ad4b:function(t,e,n){},e1e5:function(t,e,n){"use strict";var a=n("9bd2"),c=VUE_APP_API,o=VUE_APP_API_STATION;e["a"]={nodeGetById:function(t){return Object(a["a"])({url:"".concat(c,"/device/space/getById/").concat(t),method:"get"})},deleteInspectTaskById:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/deleteInspectTaskById/").concat(t),method:"delete"})},saveInspectTask:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/saveInspectTask"),method:"post",data:t})},updateInspectTask:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/updateInspectTask"),method:"put",data:t})},getPageInspectTask:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/getPageInspectTask"),method:"post",data:t})},getInspectTaskById:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/getInspectTaskById"),method:"post",data:t})},startTask:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/record/startTask"),method:"post",data:t})},getCameraPoint:function(t){return Object(a["a"])({url:"".concat(c,"/device/space/getInspectionPointById"),method:"post",params:t})},getCameraPointType:function(t){return Object(a["a"])({url:"".concat(c,"/device/space/getInspectionPointById?id=").concat(t.id,"&nodeTypeList=").concat(t.nodeTypeList[0],"&nodeTypeList=").concat(t.nodeTypeList[1]),method:"post"})},getCalendar:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/getCalendar"),method:"post",data:t})},getYear:function(t){return Object(a["a"])({url:"".concat(o,"/inspection/task/getYear"),method:"post",data:t})}}},e24c:function(t,e,n){"use strict";n("ad4b")}}]);